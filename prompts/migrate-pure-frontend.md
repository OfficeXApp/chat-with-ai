# Migrate to Frontend

Please help me migrate this nextjs chatui code to purely react frontend, no server. lets put the route.ts code into a react hook or something.

## NextJS Code

// app/api/chat/route.ts

import { openai } from "@ai-sdk/openai";
import { frontendTools } from "@assistant-ui/react-ai-sdk";
import { streamText } from "ai";

export const runtime = "edge";
export const maxDuration = 30;

export async function POST(req: Request) {
const { messages, system, tools } = await req.json();

const result = streamText({
model: openai("gpt-4o"),
messages,
// forward system prompt and tools from the frontend
toolCallStreaming: true,
system,
tools: {
...frontendTools(tools),
},
onError: console.log,
});

return result.toDataStreamResponse();
}

// app/assistant.tsx

"use client";

import { AssistantRuntimeProvider } from "@assistant-ui/react";
import { useChatRuntime } from "@assistant-ui/react-ai-sdk";
import { Thread } from "@/components/assistant-ui/thread";
import {
SidebarInset,
SidebarProvider,
SidebarTrigger,
} from "@/components/ui/sidebar";
import { AppSidebar } from "@/components/app-sidebar";
import { Separator } from "@/components/ui/separator";
import {
Breadcrumb,
BreadcrumbItem,
BreadcrumbLink,
BreadcrumbList,
BreadcrumbPage,
BreadcrumbSeparator,
} from "@/components/ui/breadcrumb";

export const Assistant = () => {
const runtime = useChatRuntime({
api: "/api/chat",
});

return (
<AssistantRuntimeProvider runtime={runtime}>
<SidebarProvider>
<AppSidebar />
<SidebarInset>

<header className="flex h-16 shrink-0 items-center gap-2 border-b px-4">
<SidebarTrigger />
<Separator orientation="vertical" className="mr-2 h-4" />
<Breadcrumb>
<BreadcrumbList>
<BreadcrumbItem className="hidden md:block">
<BreadcrumbLink href="#">
Build Your Own ChatGPT UX
</BreadcrumbLink>
</BreadcrumbItem>
<BreadcrumbSeparator className="hidden md:block" />
<BreadcrumbItem>
<BreadcrumbPage>Starter Template</BreadcrumbPage>
</BreadcrumbItem>
</BreadcrumbList>
</Breadcrumb>
</header>
<Thread />
</SidebarInset>
</SidebarProvider>
</AssistantRuntimeProvider>
);
};

// app/layout.tsx

import type { Metadata } from "next";
import { Geist, Geist_Mono } from "next/font/google";
import "./globals.css";

const geistSans = Geist({
variable: "--font-geist-sans",
subsets: ["latin"],
});

const geistMono = Geist_Mono({
variable: "--font-geist-mono",
subsets: ["latin"],
});

export const metadata: Metadata = {
title: "assistant-ui Starter App",
description: "Generated by create-assistant-ui",
};

export default function RootLayout({
children,
}: Readonly<{
children: React.ReactNode;
}>) {
return (

<html lang="en">
<body
className={`${geistSans.variable} ${geistMono.variable} antialiased`} >
{children}
</body>
</html>
);
}

// app/page.tsx

import { Assistant } from "./assistant";

export default function Home() {
return <Assistant />;
}
